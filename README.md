# PortfolioKOD
**Testing Platform** - удобный онлайн сервис, созданный для оценивания знаний студентов в формате тестирования.
Сервис оснащен ролевой моделью доступа, которая делает его удобным и универсальным.

---

## Функциональность

- JWT-аутентификация с refresh-токенами
- Ролевая модель пользователей (Admin / Teacher / Student)
- Логирование событий и глобальная обработка ошибок
- Создание, редактирование и публикация тестов   
- Поддержка разных типов вопросов (один ответ, несколько ответов, текстовый)  
- Автоматическая проверка и подсчёт результатов

---

## Используемые технологии

- **.NET 8 / ASP.NET Core Web API**  
- **Entity Framework Core 9 + SQLite**  
- **JWT Bearer Authentication + BCrypt.Net**  
- **Swagger / OpenAPI**  
- **Serilog (Console + File + SQLite logging)**  
- **GitHub Actions CI/CD**  
- **AutoMapper**  

---

## Архитектура проекта

Проект построен с использованием многослойной архитектуры (**Clean Architecture**) и разделён на следующие проекты:

- `TestingPlatform` (Web API) — контроллеры, конфигурация, точка входа
- `TestingPlatform.Application` — бизнес-логика, DTO, сервисы
- `TestingPlatform.Domain` — сущности, интерфейсы репозиториев, исключения   
- `TestingPlatform.Infrastructure` — EF Core, репозитории, миграции  
  
---

## Ключевые сущности системы

- **User** — базовый пользователь системы с учётными данными  
- **Student** — студент, может проходить тесты  
- **Teacher** — преподаватель, создаёт тесты и просматривает результаты  
- **Admin** — администратор, управляет пользователями и системой  
- **Test** — тест с настройками (лимит времени, попытки, проходной балл)  
- **Question** — вопрос теста с типом и количеством баллов  
- **Answer** — вариант ответа на вопрос  
- **TestResult** — результат прохождения теста пользователем  
- **Role** — роли пользователей в системе  

---

## Авторизация и безопасность

Система использует **JWT (JSON Web Tokens)** для аутентификации пользователей.  
Пароли хранятся в виде хеша с использованием **BCrypt**.
Реализовано разграничение доступа по ролям через атрибуты:
Все endpoint'ы защищены в зависимости от прав пользователя.

---

## CI / Автоматизация

В проекте настроен процесс автоматической сборки и проверки кода через **GitHub Actions**.  
При каждом `push` или `pull request` в ветку `main` автоматически запускается CI pipeline.

Основные этапы выполнения:

- Клонирование репозитория на виртуальную машину
- Установка **.NET 8 SDK**
- Восстановление зависимостей командой:
- Сборка проекта в режиме Release:
- Запуск модульных тестов:
- Публикация артефактов (опционально)
- Создание Docker-образа (опционально)

---

## Документация API

API системы полностью документировано с использованием **Swagger/OpenAPI**.  
После запуска приложения доступна интерактивная документация

---

## Обработка ошибок и логирование

В проекте реализована централизованная обработка ошибок через middleware.  
Используется структурированное логирование через **Serilog**.

---

## Модель данных
<img width="1490" height="966" alt="Модель данных" src="https://github.com/user-attachments/assets/7efc52b9-d12a-40c6-a0f6-8b2094d47174" />


## Трудности и выводы

Основные сложности:

- Настройка Serilog для нескольких источников
- Настройка миграций EF Core для SQLite
- Абсолютные пути в `.csproj` файлах    
- Реализация refresh-токенов  

---

## Идеи для развития проекта
  
- Email/WebSocket уведомления
- Поддержка PostgreSQL  
- Аналитика результатов
- Внедрение системы тестов с временными рамками   
- Импорт/экспорт тестов (JSON, CSV)  
- Интеграция с LDAP/Active Directory  
